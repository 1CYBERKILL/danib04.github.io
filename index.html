<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="/css/home.css">
    <title>Inicio</title>
    <style>
        h1 {
            color: azure;
        }
    </style>
</head>

<body>
    <h2>o34i'3i04<div id="device-info"></div></h2>  
    <canvas id="oldSkool"></canvas>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/mobile-detect/1.4.5/mobile-detect.min.js"></script>
    <script>
        // Canvas setup
        var db = document.body;
        var c = document.getElementById('oldSkool');
        var $ = c.getContext('2d');
        c.width = window.innerWidth;
        c.height = window.innerHeight;
        var resume;
        function relay(){
            window.requestAnimationFrame(relay);
            resume();
        }

        // Relay script
        var _s = db.querySelectorAll("script")[2].innerHTML.split("\n");
        var x = 0; 
        var y = 1; 
        c.width = window.innerWidth;
        c.height = _s.length * 20;
        db.style.margin = 0;
        db.style.background = "hsla(0,0%,0%,1)";
        db.style.overflow = "hidden";
        $.textBaseline = "top";
        $.font = "1.1em monospace";
        
        resume = function(){
            $.globalCompositeOperation = "source-over";
            $.shadowBlur = 0; 
            $.fillStyle = "hsla(0,0%,0%,0.4)";
            $.fillRect(0, 0, window.innerWidth, _s.length * 20);
            $.shadowColor = "hsla(120,100%,50%,0.5)";
            $.shadowBlur = 9; 
            $.fillStyle = "hsla(120,100%,20%,1)";
            $.globalCompositeOperation = "lighter";
            _s.forEach(function(t, i) {
                if (i <= y) {
                    if (i == y) { t = t.substr(0, x); }
                    $.fillText(t, 100, 100 + i * 16);        
                }
            });
            $.fillStyle = "hsla(120,100%,50%,1)";
            $.fillRect(100 + $.measureText(_s[y].substr(0, x)).width, 102 + y * 16, 10, 14);
            x++;
            if (x >= _s[y].length) { y++; x = 0; }
            if (y * 16 > innerHeight - 200) { $.translate(0, -0.5); }
            if (y >= _s.length - 1) { window.clearInterval(); }
        }
        
        relay();
    </script>

    <script>
        // Device detection script using mobile-detect.js
        document.addEventListener("DOMContentLoaded", function() {
            var deviceInfo = document.getElementById('device-info');
            var md = new MobileDetect(window.navigator.userAgent);

            if (md.phone()) {
                deviceInfo.textContent = "Estás usando un teléfono móvil: " + md.phone();
            } else if (md.tablet()) {
                deviceInfo.textContent = "Estás usando una tablet: " + md.tablet();
            } else if (md.mobile()) {
                deviceInfo.textContent = "Estás usando un dispositivo móvil desconocido.";
            } else {
                deviceInfo.textContent = "No se ha podido determinar tu dispositivo móvil.";
            }
        });
    </script>

    <script src="/js/home.js"></script>
</body>
</html>
